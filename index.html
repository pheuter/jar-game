<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Paddington's 3D Marmalade Hunt</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
    <meta
      name="description"
      content="Help Paddington Bear find his beloved marmalade in this charming 3D jar-opening game. Collect marmalade and avoid worms!"
    />
    <!-- Three.js libraries (latest version with ES modules) -->
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
        }
      }
    </script>
    <script type="module" src="script.js"></script>
  </head>
  <body>
    <div class="container">
      <h1>Paddington's 3D Marmalade Hunt</h1>
      <div class="paddington-banner">
        <div class="paddington-icon"></div>
      </div>
      <div class="score-container">
        <div class="score-item">
          <i class="fas fa-star"></i>
          <p>Score: <span id="score">0</span></p>
        </div>
        <div class="score-item">
          <i class="fas fa-hand-pointer"></i>
          <p>Attempts: <span id="attempts">10</span>/10</p>
        </div>
        <div class="score-item">
          <i class="fas fa-trophy"></i>
          <p>Round: <span id="round">1</span></p>
        </div>
      </div>
      <div class="game-instructions">
        <p>"Please look after this marmalade" - Help Paddington find his favorite treat!</p>
        <p class="instruction-small" id="controls-hint">Use WASD or arrow keys to move Paddington. Walk up to jars to open them automatically!</p>
      </div>
      <div id="3d-scene-container" class="scene-container">
        <!-- 3D scene will be rendered here -->
      </div>
      <div class="message" id="message"></div>
      
      <!-- Round Complete Modal -->
      <div id="round-complete-modal" class="modal">
        <div class="modal-content">
          <div class="modal-header paddington-modal-header">
            <div class="modal-paddington"></div>
            <h2>Adventure Complete!</h2>
          </div>
          <div class="modal-body">
            <p>Paddington's Adventure #<span id="modal-round">1</span></p>
            <p>Marmalade Collected: <span id="modal-score">0</span></p>
            <p id="modal-high-score" style="display: none;">Paddington's New Record!</p>
            <button id="next-round">
              <i class="fas fa-arrow-right"></i> Next Adventure
            </button>
          </div>
        </div>
      </div>

      <footer>
        <p>Made with <i class="fas fa-heart"></i> for Paddington's fans</p>
      </footer>
    </div>
    <!-- Script is now loaded as module in the head -->
  </body>
</html>